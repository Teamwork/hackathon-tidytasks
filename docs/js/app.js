// This file is required by the index.html file and will
// be executed in the renderer process for that window.
// All of the Node.js APIs are available in this process.
// Define a "Person" class that tracks its own name and children, and has a method to add a new child
var Project, Task, TaskList, showProject, viewModel;

Task = function(task) {
  this.name = task;
};

TaskList = function(name, tasks) {
  this.name = name;
  this.tasks = tasks; //.map x -> new Task(x) # ko.observableArray(tasks)
};

// @addTask = ((task) ->
//   @tasks.push new Task(task)
//   return
// ).bind(this)
Project = function(id, name, tasklists) {
  this.id = id;
  this.name = name;
  this.tasklists = tasklists;
  this.lateTasks = 4;
  this.dueTasks = 3;
  this.upcomingTasks = 6;
  // @addList = (->
  //   @tasklists.push new TaskList()
  //   return
  // ).bind(this)
  this.navigateToProject = (function() {
    // console.log("pop")
    return true;
  }).bind(this);
  this.counttasks = (function() {
    return 4;
  }).bind(this);
  this.progress = (function() {
    return 15;
  }).bind(this);
};


// The view model is an abstract description of the state of the UI, but without any knowledge of the UI technology (HTML)
viewModel = {
  background: 'blue',
  showPage: "dashboard-projects",
  showHeader: true,
  username: 'Mark',
  tasksdue: 4,
  currentProject: null,
  projects: [new Project(1, 'Build Time Machine', [new TaskList('DeLorean', ['Construct Flux Capacitor', 'Get Plutonium'])]), new Project(2, 'Load Dishwasher'), new Project(3, 'Hackathon', [new TaskList('Thingie', ['Name Team', 'Decide Project']), new TaskList('Yoke', ['Rename Team', 'Undecide Project'])]), new Project(4, 'Find Treasure')],
  showAddTask: function() {
    return this.showPage = "add-task";
  }
};

showProject = function(model, project) {
  model.currentProject = project;
  model.showPage = "tasks";
  return console.log(model);
};

viewModel.currentProject = viewModel.projects[0];

ko.applyBindings(viewModel);

console.log(viewModel.projects[0]);

// ---
// generated by js2coffee 2.2.0
