<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Taskotron</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" type="text/css" href="css/header.css">
    <link rel="stylesheet" href="css/bs.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
     <!-- <meta http-equiv="refresh" content="10"> -->
  </head>
  <body>
    
    <div class="container" style="margin-top: 40px;">


        <!--   HEADER   -->
            
        <div class="bs-component" data-bind="visible: showHeader">
            <nav class="navbar navbar-expand-lg navbar-dark">
                <a class="navbar-date" href="#">24 NOV 2017</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav navbar-right">
                    </ul>
                </div>
                <ul class="navbar-nav navbar-right">
                    <li class="nav-item">
                        <a class="nav-link" href="#"> <img class="svg-icon" src="/images/icons/search.svg" /></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><img class="svg-icon" src="/images/icons/plus.svg" /></a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link">
                        </a>
                    </li> -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
                            <img style="width: 25px; height: 25px; border-radius: 50%; background: #FFF; border: 1px solid #CCC; float: left; padding: 0px; margin: 0 10px 0 0;" src="https://s3.amazonaws.com/TWFiles/1/userAvatar/tf_517FFC77-DE9A-897F-82DA2C894375D160.tim-gunn-project-runwa-2-325.jpg">
                        </a>
                        <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; transform: translate3d(0px, 35px, 0px); top: 20px; left: auto; right: 0px; will-change: transform; ">
                            <a class="dropdown-item" href="#">Open Projects</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Sign Out</a>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>

        <!--   LOGIN -->

        <div class="bs-component login-container" data-bind="visible: showPage == 'login'">
            <img src="images/projects-monotone-light.svg"> 
            <h1>Get focused today.</h1>
            <div class="form-group">
                <input class="form-control login-input" id="site-address" placeholder="Site address">
                <input class="form-control login-input" id="API-key" placeholder="API key">
                <button id="sign-in" type="submit" class="enabled">SIGN IN</button>
            </div>  
        </div>

    
        <!--  DASHBOARD -->
        
        <div class="bs-component" data-bind="visible: showPage == 'dashboard-projects'">
            <div class="tasks-grid" data-bind="foreach: projects">
                <div class="task-card">
                    <div class="card border-light">
                        <div class="card-body">
                            <div class="title" data-bind="text: name"></div>
                            <div class="tasks" data-bind="text: counttasks() "></div>
                            <div class="progress-percent" data-bind="text: progress() + '%'"></div>
                            <div class="progress">
                                <div class="progress-bar bg-warning" role="progressbar" data-bind="style: { width: progress() + '%'}, aria-valuenow: progress()" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>                
            </div>
        </div>

        <!-- ADD TASK --> 

        <div class="bs-component">
            <div class="add-task-container">
                <div class="add-task">
                    <h1 class="add-task-title">Add task</h1>
        
                    <label for="task-name">Task name</label>
                    <input id="task-name">
                    <label for="task-project">Project</label>
                    <select id="task-project">
                        <option disabled selected value></option>
                        <option value="projects">Teamwork Projects</option>
                        <option value="desk">Teamwork Desk</option>
                        <option value="chat">Teamwork Chat</option>
                    </select>
                    <label for="task-list">Task list</label>
                    <select id="task-list">
                        <option disabled selected value></option>
                        <option value="design">Design</option>
                        <option value="frontend">Front-end</option>
                        <option value="sacrebleu">Sacrebleu</option>
                    </select>
                    <label for="task-nest">Nested under</label>
                    <input id="task-nest" placeholder="search">
        
                    <div class="actions">
                        <button type="button" class="btn btn-cancel">CANCEL</button>
                        <button type="button" class="btn btn-primary">SAVE</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- data-bind="attr:{ 'src': ko.unwrap(avatarUrl) }"  -->

        <div class="bs-component" data-bind="if: currentProject != null ">
            <div>

            <div class="project-container">
                <h1 class="project-name" data-bind="text: currentProject.name"></h1>
                <div class="task-count" data-bind="text: currentProject.counttasks() + ' tasks'"></div>
                <div class="progress-percent" data-bind="text: currentProject.progress() + '%'"></div>

                <div class="progress"> 
                    <div class="progress-bar bg-warning" role="progressbar" data-bind="style: { width: currentProject.progress + '%' }, aria-valuenow: currentProkect" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            
                <div class="project-status">
                    <div class="status late">
                        Late
                        <div class="status-count" data-bind="text: currentProject.lateTasks">
                        </div>
                    </div>
                    <div class="status today">
                        Today
                        <div class="status-count" data-bind="text: currentProject.dueTasks">
                        </div>
                    </div>
                    <div class="status upcoming">
                        Upcoming
                        <div class="status-count" data-bind="text: currentProject.upcomingTasks">
                        </div>
                    </div>
                </div>
            
                <div class="section" data-bind="foreach: currentProject.tasklists">
                    <div class="section-toggler">
                        <div class="section-name" data-bind="text: name"></div>
                        <img src="images/icons/chevron-up.svg">
                    </div>
                    <div class="tasks-container" data-bind="foreach: tasks">
                        <div class="task">
                            <div class="image-container">
                                <img src="images/icons/task.svg">
                            </div>
                            <div class="task-body">
                                <div class="task-name" data-bind="text: $data"></div>
                                <div class="task-details">
                                    <div class="task-description">
                                        Some text here for the task description.
                                    </div>
                                    <div class="task-controls">
                                        <!-- <div class="date control">
                                            <div class="image-container">
                                                <img src="images/icons/product-switcher.svg">
                                            </div>
                                            <div class="actions">
                                                <div class="link">Set a start date</div>
                                                <div class="link">Set a due date</div>
                                            </div>
                                        </div> -->
                                        <div class="open-in-projects control">
                                            <div class="image-container">
                                                <img src="images/product-switcher.png">
                                            </div>
                                            <div class="actions">
                                                <div class="link">View in Projects</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>

    </div>
  
    </div>
     

    <!-- All of the Node.js APIs are available in this renderer process. -->
    <!-- 
        We are using Node.js <script>document.write(process.versions.node)</script>,
        Chromium <script>document.write(process.versions.chrome)</script>,
        and Electron <script>document.write(process.versions.electron)</script>. 
    -->

    <script src="js/jquery.js"></script>
    <script src="js/knockout.js"></script>
    <script src="js/lodash.core.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="js/popper.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/bootstrap-datepicker.js"></script>
    <script src='js/app.js'></script>
    <script>
        // this function turns black svg icons white
        $(function(){
            console.log("poop")
            $('img.svg-icon').each(function () {
                var $e = $(this);
                var imgURL = $e.prop('src');
                
                $.get(imgURL, function (data) {
                    // Get the SVG tag, ignore the rest
                    var $svg = $(data).find('svg');
                
                    // change the color
                    $svg.find('path').attr('fill', '#FFF');
                
                    $e.prop('src', "data:image/svg+xml;base64," + window.btoa($svg.prop('outerHTML')));
                });
                
            });
        })
    </script>

    <!-- <script>
      // You can also require other files to run in this process
      require('./renderer.js')
    </script> -->

  </body>
</html>
